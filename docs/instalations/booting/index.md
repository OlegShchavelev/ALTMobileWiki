# Tow-Boot

## Установка Tow-Boot на PinePhone Pro

### Запись образа Tow-Boot на SD карту через графический интерфейс:

- Распакуйте скачанный образ ALT Mobile.
- Используйте gnome-disk-utility для записи образа на SD карту:
- Откройте gnome-disks и выберите SD карту.
- Отформатируйте карту и выберите пункт "Восстановить образ системы".
- Укажите распакованный образ и начните процесс записи.

### Запись образа Tow-Boot на SD карту через терминал:

- Запишите его на SD карту, где /dev/XXX - это ваша SD-карта(необходимо заменить XXX на ваши данные):

```shell
dd if=spi.installer.img of=/dev/XXX bs=1M oflag=direct,sync status=progress
```

- После записи образа Tow-Boot на SD карту, выполните следующие шаги:

::: info
Если не уверены, что батарея полностью заряжена, рекомендуется подключить телефон к источнику питания.
:::

### Процесс установки

- Процесс установки Tow-Boot на PinePhone Pro хорошо изложен в данном [видео](https://yandex.ru/video/preview/7204406835731215668)

1.  Выключите PinePhone Pro.
2.  Извлеките батарею из устройства.
3.  Вставьте SD карту с записанным образом Tow-Boot в слот для SD карт.
4.  Верните батарею обратно в PinePhone Pro.
5.  Предварительно удерживая кнопку RE включите устройство.
6.  Удерживайте кнопку RE до тех пор, пока телефон не завибрирует, и индикатор LED не загорится красным. Может быть удобнее подключить телефон к источнику питания через USB, чем нажимать на кнопку питания.
7.  После включения с образом Tow-Boot, телефон слегка вибрирует, индикатор LED загорится красным, а затем через короткое время - жёлтым.
8.  Через некоторое время экран включится, показывая синий цвет, или устройство напрямую загрузится в графический интерфейс установщика.
9.  В графическом интерфейсе установщика выберите "Install Tow-Boot to SPI", подключите зарядку к телефону и нажмите кнопку "Start installation".

::: info
Стирание хранилища перед установкой не требуется. Опция стирания может использоваться для удаления Tow-Boot (или любого другого прошивочного ПО, установленного в раздел SPI).
:::

<Video id="7piXOM8G2uQ" />

## Дополнительно

### Стандартные данные учётных записей

- Логины по умолчанию:
  root: `root`, password: `altlinux`;
  user: `altlinux`, password: `271828`.

### Порядок загрузки в PinePhone Pro

В PinePhone Pro используется следующий порядок загрузки по умолчанию:

1.  **SPI flash:** Первым источником для поиска загрузчика является SPI flash. Если в нем установлен загрузчик (например, Tow-Boot или U-Boot), он будет использоваться для загрузки системы.
2.  **Внутренняя память (eMMC):** Если загрузчик не найден в SPI flash, устройство попытается загрузиться с внутренней памяти eMMC.
3.  **Карта microSD:** В случае отсутствия загрузчика в SPI flash и на eMMC, система попытается загрузиться с карты microSD.

**Выбор источника загрузки:**

- В **Explorer Edition, заказанном после ноября 2023 года**, карта microSD загружается первой из-за использования rk2aw вместо Tow-Boot.
- В **Explorer Edition, заказанной после июля 2022 года**, удерживайте клавишу уменьшения громкости во время включения устройства. Эти устройства поставляются с прошивкой Tow-Boot для SPI.
- В **Explorer Edition, заказанном в период с января по июль 2022 года**, удерживайте кнопку RE под крышкой в течение нескольких секунд при включении устройства. Для старых партий требуется перепрошивка Tow-Boot.

Этот порядок загрузки и возможность выбора источника обеспечивают гибкость в использовании PinePhone Pro, позволяя легко переключаться между различными операционными системами, установленными на разных носителях.

Возможные проблемы

**Проблемы при прошивке emmc:**

- Если возникают проблемы с подключением, попробуйте перевернуть разъём Type-C.
- Убедитесь, что используете подходящий порт и кабель.
