# Установка ALT Mobile на MIG T8X X86

Данная инструкция описывает процесс установки ОС Альт, в частности, ALT Mobile, на планшет MIG LT11I.

:::danger Внимание!
Все действия, описанные в данной статье, вы выполняете на свой страх и риск. Автор статьи и сообщество ALT Linux Team, а также ООО "Базальт СПО" не несут ответственность за "окирпиченные" и сгоревшие приставки, затёртые данные пользователя, а также сгоревшие инструменты и прочие последствия.
:::

### Технические характеристики

#### Планшет

|     Компонент      |                                                Название                                                |     Статус     |
| :----------------: | :----------------------------------------------------------------------------------------------------: | :------------: |
|     Процессор      |                                Intel Celeron N5100, 4 ядра, до 2,8 GHz                                 | :green_circle: |
|      Дисплей       | 8 дюймов, разрешение 1200x1920, ударопрочный, с повышенной читаемостью на солнце (светимость 550 нит). | :green_circle: |
| Оперативная память |                                                  4GB                                                   | :green_circle: |
| Постоянная память  |                                   64GB eMMC, слот microSD (до 512GB)                                   | :green_circle: |
|  Сенсорная панель  |                                        Goodix, 10 точек касания                                        | :green_circle: |
|        Звук        |                                       Intel Jasper Lake HD Audio                                       | :green_circle: |
|      Питание       |                           Литий-полимерный 38 Вт·ч, съёмный, морозостойкий.                            | :green_circle: |
|        WiFi        |        Адаптер беспроводной сети WiFi Intel AX201 802.11a/b/g/n/ac, BT 5.0 (BLE), NFC 13,56 МГц        | :green_circle: |
|       Камеры       |                              5MP (фронтальная) и 8MP (основная), Microdia                              | :green_circle: |
|  Датчик освещения  |                                                  Есть                                                  |  :red_circle:  |
|      Гироскоп      |                                                  Есть                                                  | :green_circle: |
|    Акселерометр    |                                                  Есть                                                  | :green_circle: |
|    Вывод звука     |                                Стереодинамики, порт для наушников 3,5мм                                | :green_circle: |
|    Вывод видео     |                                               mini HDMI                                                | :green_circle: |
|        USB         |                       USB Type-C OTG, USB Type-A OTG, магнитный порт для зарядки                       | :green_circle: |

#### Док-станция (Не входит в комплект)

| Компонент |                     Название                     |     Статус     |
| :-------: | :----------------------------------------------: | :------------: |
|   Порты   | RJ45, USB Type-A, USB Type-C, DB9 RS232 COM-порт | :green_circle: |

:::details Условные обозначения

:green_circle: `Работает` - работает в полном объёме

:yellow_circle: `Частично` - работает частично

:red_circle: `Не работает` - не работает

:white_circle: `Отсутствует` - не предусмотрено спецификацией

:::

## Подготовка

Для установки ОС alt Mobile на планшет Lenovo MIIX 320-10ICR нам понадобятся

1. Флешка или карта памяти с записанным образом ALT Mobile для x86_64
2. USB-хаб, клавиатура и мышка

### Подготовка накопителя

1. Скачиваем образ ОС:

```shell
wget https://beta.altlinux.org/mobile/sisyphus/latest/alt-mobile-phosh-def-latest-x86_64.img.xz
```

2. Вставляем флешку / карту памяти в ПК, смотрим, как она определилась в системе, и записываем образ:

```shell
lsblk

xzcat alt-mobile-phosh-def-latest-x86_64.img.xz | dd of=/dev/<имя_устройства> oflag=direct,sync iflag=fullblock bs=1M status=progress
```

3. Монтируем наш накопитель, и под `root` копируем образ прямо на неё

```shell
[user@comp~]$ su -

[root@comp~]# cp /home/user/alt-mobile-phosh-def-latest-x86_64.img.xz /run/media/user/<имя_накопителя>
```

4. Отмонтируем флешку.

## Установка

1. Подключаем USB-хаб в порт USB, и в него подключаем клавиатуру, мышку и флешку.

2. Включаем планшет (зажимаем кнопку включения на 2-3 секунды), и жмём на клавиатуре клавишу Del, пока не появится меню, в котором мы выбираем меню загрузки ("Boot menu").

3. В Boot menu выбираем нашу флешку/карту памяти.

4. Загружаемся в нашу ОС и входим в сессию (пароль входа — `271828`i, пароль `root` — `altlinux`)

5. Мышкой кликаем один раз по значку терминала.

6. Переходим в режим `root` и переходим в корень нашего накопителя:

```shell
[user@comp~]$ su -

[root@comp~]# cd /
```

8. Узнаём название устройства eMMC и записываем образ:

```shell
lsblk

xzcat alt-mobile-phosh-def-latest-x86_64.img.xz | dd of=/dev/<имя_eMMC> oflag=direct,sync iflag=fullblock bs=1M status=progress
```

9. По окончании процесса записи кликаем по верхней панели, в верхнем правом углу - по кнопке питания, и в выпадающем меню выбираем пункт "Выключить". После выключения вынимаем установочный накопитель.

## Доведение до ума

1. Включаем планшет и загружаемся в ОС. Первый запуск будет долгий - раздел с системой расширится на весь объём eMMC

2. Подключаемся к сети и запускаем Центр Приложений, заходим во вкладку Обновления и жмём кнопку "Обновить"

3. Устанавливаем все обновления - соглашаемся на перезагрузку. После перезагрузки планшет снова загрузится в ОС.

4. Добавляем правило для сенсорной панели:

```shell
[user@comp~]$ su -

[root@comp~]# mcedit /etc/udev/rules.d/99-MIG-goodix-touchscreen.rules

ACTION=="add|change", KERNEL=="event*", ATTRS{name}=="GDIX1002:00", ENV{LIBINPUT_CALIBRATION_MATRIX}="-1 0 1 0 -1 1"
```

5. Перезагружаем планшет командой reboot и (скорее всего) радуемся работающему планшету.
