# Установка ALT Mobile на Lenovo MIIX 320-10ICR

Данная инструкция описывает процесс установки ОС Альт, в частности, ALT Mobile, на планшет-трансформер Lenovo MIIX 320-10ICR.

:::danger Внимание!
Все действия, описанные в данной статье, вы выполняете на свой страх и риск. Автор статьи и сообщество ALT Linux Team, а также ООО "Базальт СПО" не несут ответственность за "окирпиченные" и сгоревшие приставки, затёртые данные пользователя, а также сгоревшие инструменты и прочие последствия.
:::

### Технические характеристики

#### Планшет

|     Компонент      |                                                          Название                                                           |      Статус      |
| :----------------: | :-------------------------------------------------------------------------------------------------------------------------: | :--------------: |
|     Процессор      |                                       Intel Atom x5-Z8350, 4 ядра на 1.44 - 1.92 ГГц                                        |  :green_circle:  |
|      Дисплей       |                 10.1" (256mm) FHD (1920x1200), матрица IPS 16:10, встроенная графика Intel HD Graphics 400                  |  :green_circle:  |
| Оперативная память |                                                          DDR3L 2GB                                                          |  :green_circle:  |
| Постоянная память  |                                             32GB eMMC, слот microSD (до 128GB)                                              |  :green_circle:  |
|  Сенсорная панель  |                                                      10 точек касания                                                       |  :green_circle:  |
|        Звук        |                                              Встроенный мультимедиа контроллер                                              |  :green_circle:  |
|      Питание       | Аккумулятор на две банки на 33 Ватт-часа (ёмкость неизвестна, "до 10 часов работы от батареи"), чип контроля питания AXP288 |  :green_circle:  |
|        WiFi        |               Адаптер беспроводной сети Intel Dual Band Wireless-AC 3165, Wi-Fi + Bluetooth комбо, модуль M.2               |  :green_circle:  |
|       Камеры       |                               2MP (фронтальная) и 5MP (основная), обе на базе датчика OV2680                                | :red_circle:(\*) |
|    Акселерометр    |                                                            Есть                                                             |  :green_circle:  |
|        Звук        |           Стерео с поддержкой технологии Dolby Advanced Audio certification, микрофон, порт для наушников 3,5мм            |  :green_circle:  |
|    Вывод видео     |                                                         micro HDMI                                                          |  :green_circle:  |
|        USB         |                                                   Порт USB Type-C USB 3.0                                                   |  :green_circle:  |

#### Док / Клавиатура

| Компонент |            Название             |     Статус     |
| :-------: | :-----------------------------: | :------------: |
|   Порты   |  2 Порта USB 2.0, порт питания  | :green_circle: |
|   Ввод    | Клавиатура на 70 клавиш, тачпад | :green_circle: |

:::details Условные обозначения

:green_circle: `Работает` - работает в полном объёме

:yellow_circle: `Частично` - работает частично

:red_circle: `Не работает` - не работает

:white_circle: `Отсутствует` - не предусмотрено спецификацией

:::

### Примечания:

\* Отсутствует полноценный модуль ядра и драйвер.

## Подготовка

Для установки ОС alt Mobile на планшет Lenovo MIIX 320-10ICR нам понадобятся

1. Флешка или карта памяти с записанным образом ALT Mobile для x86_64

### Подготовка накопителя

1. Скачиваем образ ОС:

```shell
wget http://ftp.altlinux.org/pub/beta/mobile/sisyphus/latest/alt-mobile-phosh-def-20241211-x86_64.img.xz
```

2. Вставляем флешку / карту памяти в ПК, смотрим, как она определилась в системе, и записываем образ:

```shell
lsblk

xzcat alt-mobile-phosh-un-def-20240926-x86_64.img.xz | dd of=/dev/<имя_устройства> oflag=direct,sync iflag=fullblock bs=1M status=progress
```

3. Монтируем наш накопитель, и под `root` копируем образ прямо на неё

```shell
[user@comp~]$ su -

[root@comp~]# cp /home/user/alt-mobile-phosh-un-def-20240926-x86_64.img.xz /run/media/user/<имя_накопителя>
```

4. Отмонтируем флешку.

## Установка

1. Подключаем флешку в любой из USB портов.

2. Включаем планшет (зажимаем кнопку включения на 2-3 секунды), и жмём на клавиатуре комбинацию клавиш Fn + F12, пока не появится меню, в котором мы выбираем меню загрузки ("Boot menu").

3. В Boot menu выбираем нашу флешку/карту памяти.

4. Загружаемся в нашу ОС и входим в сессию (пароль входа - `271828`, пароль `root` - `altlinux`)

5. Мышкой кликаем один раз по значку терминала.

6. Переходим в режим `root` и переходим в корень нашего накопителя:

```shell
[user@comp~]$ su -

[root@comp~]# cd /
```

8. Узнаём название устройства eMMC и записываем образ:

```shell
lsblk

xzcat alt-mobile-phosh-un-def-20240926-x86_64.img.xz | dd of=/dev/<имя_eMMC> oflag=direct,sync iflag=fullblock bs=1M status=progress
```

9. По окончании процесса записи кликаем по верхней панели, в верхнем правом углу - по кнопке питания, и в выпадающем меню выбираем пункт "Выключить". После выключения вынимаем установочный накопитель.

## Доведение до ума

1. Включаем планшет и загружаемся в ОС. Первый запуск будет долгий - раздел с системой расширится на весь объём eMMC

2. Подключаемся к сети и запускаем Центр Приложений, заходим во вкладку Обновления и жмём кнопку "Обновить"

3. Устанавливаем все обновления - соглашаемся на перезагрузку. После перезагрузки планшет снова загрузится в ОС.

4. После установки обновлений нужно поставить несколько пакетов. Запускаем терминал и от рута устанавливаем следующие пакеты:

```shell
[user@comp~]$ su -

[root@comp~]# apt-get install alsa-sof-firmware (набор прошивок для аудиочипов Intel)
```

5. Перезагружаем планшет командой reboot и (скорее всего) радуемся работающему планшету.
